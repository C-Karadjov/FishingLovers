"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getBlogPage(){$carouselContainer.html(""),firebase.database().ref().child("articles").on("value",function(e){var t=e.val(),r=Object.keys(t).map(function(e){return t[e]});return(0,_templatesCompiler.compile)("blog",r).then(function(e){$mainContainer.html(e)}).then(function(){db.checkIsSignIn(function(e){e?(0,_jquery2.default)(".l-add-article__btn").show():(0,_jquery2.default)(".l-add-article__btn").hide()})})})}function getBlogDetails(){return $carouselContainer.html(""),(0,_templatesCompiler.compile)("blog-details").then(function(e){$mainContainer.html(e)})}function getBlogCreatePage(){return $carouselContainer.html(""),(0,_templatesCompiler.compile)("blog-create").then(function(e){$mainContainer.html(e)}).then(function(){var e=(0,_jquery2.default)("#l-form-article__title"),t=(0,_jquery2.default)("#l-form-article__photoUrl"),r=(0,_jquery2.default)("#l-form-article__content"),a=(0,_jquery2.default)("#l-form-article__category");(0,_jquery2.default)("#l-form-article-create").on("click",function(){var l=e.val(),o=t.val(),i=r.val(),n=a.val(),u=new Date,c={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};u=u.toLocaleDateString("bg-BG",c);var d=new _articleModel.Article(l,o,i,n,u);db.addArticle(d).then(function(e){e?(toastr.success("Article successfully created!"),(0,_jquery2.default)(location).attr("href","#/blog")):(toastr.error("An error occurred, please try again later!"),(0,_jquery2.default)(location).attr("href","#/blog/create"))})})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBlogCreatePage=exports.getBlogDetails=exports.getBlogPage=void 0;var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_toastrConfig=require("toastrConfig"),toastr=_interopRequireWildcard(_toastrConfig),_templatesCompiler=require("templatesCompiler"),_articleModel=require("articleModel"),_db=require("db"),db=_interopRequireWildcard(_db),$mainContainer=(0,_jquery2.default)("#main-container"),$carouselContainer=(0,_jquery2.default)("#carousel-container"),$addArticleBtn=(0,_jquery2.default)(".l-add-article__btn");exports.getBlogPage=getBlogPage,exports.getBlogDetails=getBlogDetails,exports.getBlogCreatePage=getBlogCreatePage;