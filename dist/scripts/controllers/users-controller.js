"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function login(){return $carouselContainer.html(""),(0,_templatesCompiler.compile)("login").then(function(e){$mainContainer.html(e)}).then(function(){var e=(0,_jquery2.default)("#l-form-login__email"),r=(0,_jquery2.default)("#l-form-login__password");(0,_jquery2.default)("#l-form-login").on("click",function(){var t=e.val(),o=r.val();db.singIn(t,o).then(function(e){return toastr.success("Successfully logged in!")}).catch(function(e){return toastr.error(e.message)})}),db.checkIsSignIn(function(e){e?(0,_jquery2.default)(location).attr("href","#/home"):(0,_jquery2.default)(location).attr("href","#/login")})})}function register(){return $carouselContainer.html(""),(0,_templatesCompiler.compile)("register").then(function(e){$mainContainer.html(e)}).then(function(){var e=(0,_jquery2.default)("#l-form-register__firstName"),r=(0,_jquery2.default)("#l-form-register__lastName"),t=(0,_jquery2.default)("#l-form-register__username"),o=(0,_jquery2.default)("#l-form-register__email"),n=(0,_jquery2.default)("#l-form-register__password");(0,_jquery2.default)("#l-form-create").on("click",function(){var i=e.val(),u=r.val(),l=t.val(),a=o.val(),s=n.val();db.createUser(a,s).then(function(e){return toastr.success("Successfully registered!")}).catch(function(e){return toastr.error(e.message)}),db.checkIsSignIn(function(e){if(e){var r=firebase.database().ref(),t=new _userModel.User(i,u,l,a);r.child("users/"+e.uid).set(t),(0,_jquery2.default)(location).attr("href","#/home")}})})})}function logout(){(0,_jquery2.default)("#l-nav-bar__logout").on("click",function(){db.signOut(),toastr.success("Successfully Log out!"),(0,_jquery2.default)(location).attr("href","#/home")})}function profile(){var e=firebase.auth().currentUser.uid;firebase.database().ref("users").child(e).on("value",function(e){var r=e.val();return console.log(r),(0,_templatesCompiler.compile)("profile",r).then(function(e){$mainContainer.html(e)})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.profile=exports.logout=exports.login=exports.register=void 0;var _db=require("db"),db=_interopRequireWildcard(_db),_templatesCompiler=require("templatesCompiler"),_jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_toastrConfig=require("toastrConfig"),toastr=_interopRequireWildcard(_toastrConfig),_userModel=require("userModel"),$mainContainer=(0,_jquery2.default)("#main-container"),$carouselContainer=(0,_jquery2.default)("#carousel-container");exports.register=register,exports.login=login,exports.logout=logout,exports.profile=profile;